<div id="card">
<div *ngFor="let x of gifts">
    <p-card header="Advanced Card" subheader="Card Subheader" [style]="{ width: '360px' }">
        <ng-template pTemplate="header">
            <img alt="Card" src="{{'assets/' + x.picture}}" style="height: 200px;"/>
        </ng-template>
        <p>
          {{x.name}}
        </p>
        <ng-template pTemplate="footer">
            <p-button label="הגרל" styleClass="p-button-secondary" [style]="{ 'margin-left': '.5em' }" (click)="raffel(x.id)" *ngIf="!x.raffeled"></p-button>
        </ng-template>
    </p-card>
</div>
</div>


<p-button label="show winners" [text]="true" severity="warning" (click)="show()"></p-button>

<p-dialog header="Header" [(visible)]="visible1" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false"
    [resizable]="false">
    <p class="m-0">
    <div class="my-css2">
        <p-table #dt [value]="winners">
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="name">User Id <p-sortIcon field="name"></p-sortIcon></th>
                    <th pSortableColumn="gift">User Name <p-sortIcon field="gift"></p-sortIcon></th>
                    <th pSortableColumn="gift">Email <p-sortIcon field="gift"></p-sortIcon></th>  
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-winner>
                <tr>
                    <td>{{winner.user.name}}</td>
                    <td>{{winner.gift.name}}</td>
                    <td>{{winner.user.email}}
                        <button (click)="sendEmail(winner.user.email)">שלח מייל</button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</p-dialog>

<br>
<div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
    © 2024 מכירה סינית:
    <a class="text-reset fw-bold" href="#!">YadBeyad.com</a>
  </div>